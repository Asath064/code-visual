<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Algorithm Visualizer</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/dark-theme.css" id="theme-stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>Universal Algorithm Visualizer</h1>
            <div class="controls">
                <button id="theme-toggle" class="btn-icon">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="settings-btn" class="btn-icon">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>
        
        <div class="main-content">
            <div class="sidebar">
                <div class="algorithm-selector">
                    <h3>Algorithm Type</h3>
                    <select id="algorithm-type">
                        <option value="sort">Sorting</option>
                        <option value="search">Searching</option>
                        <option value="graph">Graph</option>
                        <option value="dp">Dynamic Programming</option>
                        <option value="recursion">Recursion</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="language-selector">
                    <h3>Language</h3>
                    <select id="language">
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="java">Java</option>
                        <option value="c">C-style</option>
                    </select>
                </div>
                
                <div class="input-section">
                    <h3>Input Values</h3>
                    <textarea id="input-values" placeholder="Enter input values...">[5, 2, 9, 1, 5, 6]</textarea>
                </div>
                
                <div class="execution-controls">
                    <h3>Controls</h3>
                    <button id="run-btn" class="btn-primary">Run & Visualize</button>
                    <button id="step-btn" class="btn-secondary">Step</button>
                    <button id="pause-btn" class="btn-secondary">Pause</button>
                    <button id="reset-btn" class="btn-secondary">Reset</button>
                    
                    <div class="speed-control">
                        <label for="speed">Speed:</label>
                        <input type="range" id="speed" min="1" max="10" value="5">
                    </div>
                    
                    <div class="auto-play">
                        <label>
                            <input type="checkbox" id="auto-play"> Auto-play
                        </label>
                    </div>
                </div>
                
                <div class="complexity-analysis">
                    <h3>Complexity</h3>
                    <div class="complexity-item">
                        <span>Time:</span>
                        <span id="time-complexity">O(n)</span>
                    </div>
                    <div class="complexity-item">
                        <span>Space:</span>
                        <span id="space-complexity">O(1)</span>
                    </div>
                </div>
            </div>
            
            <div class="editor-container">
                <div class="code-editor">
                    <div class="editor-header">
                        <h3>Code Editor</h3>
                        <button id="format-code" class="btn-icon">
                            <i class="fas fa-code"></i>
                        </button>
                    </div>
                    <textarea id="code-editor" class="code-input" spellcheck="false">// Example: Bubble Sort
function bubbleSort(arr) {
    let n = arr.length;
    for (let i = 0; i < n - 1; i++) {
        for (let j = 0; j < n - i - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                // Swap
                let temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }
    return arr;
}</textarea>
                </div>
            </div>
            
            <div class="visualization-container">
                <div class="visualization-header">
                    <h3>Visualization</h3>
                    <div class="zoom-controls">
                        <button id="zoom-in" class="btn-icon">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button id="zoom-out" class="btn-icon">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <button id="reset-zoom" class="btn-icon">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
                <div class="visualization-canvas-container">
                    <canvas id="visualization-canvas"></canvas>
                </div>
                <div class="visualization-info">
                    <div class="step-info">
                        <span id="current-step">Step: 0</span>
                        <span id="total-steps">/ 0</span>
                    </div>
                    <div class="explanation">
                        <p id="step-explanation">Click "Run & Visualize" to start</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="variable-tracker">
            <h3>Variables</h3>
            <div class="variables-container" id="variables-container">
                <!-- Variables will be displayed here -->
            </div>
        </div>
    </div>
    
    <!-- Load CodeMirror from CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    
    <!-- Load Acorn from CDN with proper version compatibility -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/acorn/8.7.0/acorn.min.js"></script>
    <script src="https://unpkg.com/acorn-walk@8.3.4/dist/walk.js"></script>
    
    <!-- Load CodeMirror modes -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    
    <!-- Load our application scripts -->
    <script src="js/visualization-engine.js"></script>
    <script src="js/code-executor.js"></script>
    <script src="js/ui-controls.js"></script>
    <script src="js/main.js"></script>
</body>
</html>